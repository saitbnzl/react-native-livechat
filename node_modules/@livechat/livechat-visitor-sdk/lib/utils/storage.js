'use strict';

exports.__esModule = true;
exports.setPrefix = exports.removeItem = exports.getItem = exports.setItem = undefined;

var _memoryWebStorage = require('memory-web-storage');

var _memoryWebStorage2 = _interopRequireDefault(_memoryWebStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO: this prefix is shared state, each SDK instance probably need its own
var prefix = '';

var storage = (0, _memoryWebStorage.testStorageSupport)() ? window.localStorage : _memoryWebStorage2.default;

var setItem = exports.setItem = function setItem(name, value) {
	storage.setItem(prefix + name, value);
};

var getItem = exports.getItem = function getItem(name) {
	return storage.getItem(prefix + name);
};

var removeItem = exports.removeItem = function removeItem(name) {
	storage.removeItem(prefix + name);
};

var setPrefix = exports.setPrefix = function setPrefix(newPrefix) {
	prefix = newPrefix;
};

exports.default = {
	setItem: setItem,
	getItem: getItem,
	removeItem: removeItem,
	setPrefix: setPrefix
};