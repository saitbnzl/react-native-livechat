'use strict';

exports.__esModule = true;
exports.remove = exports.set = exports.get = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _find = require('lodash/fp/find');

var _find2 = _interopRequireDefault(_find);

var _trimStart = require('lodash/fp/trimStart');

var _trimStart2 = _interopRequireDefault(_trimStart);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var get = exports.get = function get(key) {
	var cookies = document.cookie.split(';');
	var found = (0, _find2.default)(function (cookie) {
		var _trimStart$split = (0, _trimStart2.default)(cookie).split('='),
		    cookieName = _trimStart$split[0];

		return decodeURIComponent(cookieName) === key;
	}, cookies);
	return found ? decodeURIComponent(found.split('=')[1]) : null;
};

var set = exports.set = function set(key, value) {
	var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

	var days = options.days;
	var expires = days ? '; expires=' + new Date(Date.now() + days * 24 * 60 * 60 * 1000).toUTCString() : '';
	var path = options.path ? '; path=' + options.path : '';
	var stringifiedValue = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? JSON.stringify(value) : String(value);
	var cookie = encodeURIComponent(key) + '=' + encodeURIComponent(stringifiedValue);
	document.cookie = '' + cookie + expires + path;
};

var remove = exports.remove = function remove(key) {
	return set(key, '', { days: -1 });
};